var app=function(){"use strict";var t={},n={},e=34,r=10,o=13;function u(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function c(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}function a(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function l(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),o=t.getUTCSeconds(),u=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+a(-n,6):n>9999?"+"+a(n,6):a(n,4))+"-"+a(t.getUTCMonth()+1,2)+"-"+a(t.getUTCDate(),2)+(u?"T"+a(e,2)+":"+a(r,2)+":"+a(o,2)+"."+a(u,3)+"Z":o?"T"+a(e,2)+":"+a(r,2)+":"+a(o,2)+"Z":r||e?"T"+a(e,2)+":"+a(r,2)+"Z":"")}function s(a){var s=new RegExp('["'+a+"\n\r]"),i=a.charCodeAt(0);function f(u,c){var a,l=[],s=u.length,f=0,d=0,h=s<=0,m=!1;function p(){if(h)return n;if(m)return m=!1,t;var c,a,l=f;if(u.charCodeAt(l)===e){for(;f++<s&&u.charCodeAt(f)!==e||u.charCodeAt(++f)===e;);return(c=f)>=s?h=!0:(a=u.charCodeAt(f++))===r?m=!0:a===o&&(m=!0,u.charCodeAt(f)===r&&++f),u.slice(l+1,c-1).replace(/""/g,'"')}for(;f<s;){if((a=u.charCodeAt(c=f++))===r)m=!0;else if(a===o)m=!0,u.charCodeAt(f)===r&&++f;else if(a!==i)continue;return u.slice(l,c)}return h=!0,u.slice(l,s)}for(u.charCodeAt(s-1)===r&&--s,u.charCodeAt(s-1)===o&&--s;(a=p())!==n;){for(var g=[];a!==t&&a!==n;)g.push(a),a=p();c&&null==(g=c(g,d++))||l.push(g)}return l}function d(t,n){return t.map(function(t){return n.map(function(n){return m(t[n])}).join(a)})}function h(t){return t.map(m).join(a)}function m(t){return null==t?"":t instanceof Date?l(t):s.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,r,o=f(t,function(t,o){if(e)return e(t,o-1);r=t,e=n?function(t,n){var e=u(t);return function(r,o){return n(e(r),o,t)}}(t,n):u(t)});return o.columns=r||[],o},parseRows:f,format:function(t,n){return null==n&&(n=c(t)),[n.map(m).join(a)].concat(d(t,n)).join("\n")},formatBody:function(t,n){return null==n&&(n=c(t)),d(t,n).join("\n")},formatRows:function(t){return t.map(h).join("\n")}}}var i=s(",").parse;s("\t");function f(){}function d(t){return t()}function h(){return Object.create(null)}function m(t){t.forEach(d)}function p(t){return"function"==typeof t}function g(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function $(t,n){t.appendChild(n)}function v(t,n,e){t.insertBefore(n,e||null)}function y(t){t.parentNode.removeChild(t)}function C(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function T(t){return document.createElement(t)}function b(t){return document.createTextNode(t)}function _(){return b(" ")}function w(){return b("")}function x(t,n,e){null==e?t.removeAttribute(n):t.setAttribute(n,e)}function A(t,n){n=""+n,t.data!==n&&(t.data=n)}function j(t,n){(null!=n||t.value)&&(t.value=n)}let E;function L(t){E=t}const S=[],k=[],N=[],U=[],M=Promise.resolve();let I=!1;function O(t){N.push(t)}function R(){const t=new Set;do{for(;S.length;){const t=S.shift();L(t),H(t.$$)}for(;k.length;)k.pop()();for(let n=0;n<N.length;n+=1){const e=N[n];t.has(e)||(e(),t.add(e))}N.length=0}while(S.length);for(;U.length;)U.pop()();I=!1}function H(t){t.fragment&&(t.update(t.dirty),m(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(O))}const D=new Set;const Z="undefined"!=typeof window?window:global;function B(t,n){t.$$.dirty||(S.push(t),I||(I=!0,M.then(R)),t.$$.dirty=h()),t.$$.dirty[n]=!0}function F(t,n,e,r,o,u){const c=E;L(t);const a=n.props||{},l=t.$$={fragment:null,ctx:null,props:u,update:f,not_equal:o,bound:h(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:h(),dirty:null};let s=!1;var i,g,$;l.ctx=e?e(t,a,(n,e,r=e)=>(l.ctx&&o(l.ctx[n],l.ctx[n]=r)&&(l.bound[n]&&l.bound[n](r),s&&B(t,n)),e)):a,l.update(),s=!0,m(l.before_update),l.fragment=r(l.ctx),n.target&&(n.hydrate?l.fragment.l(($=n.target,Array.from($.childNodes))):l.fragment.c(),n.intro&&((i=t.$$.fragment)&&i.i&&(D.delete(i),i.i(g))),function(t,n,e){const{fragment:r,on_mount:o,on_destroy:u,after_update:c}=t.$$;r.m(n,e),O(()=>{const n=o.map(d).filter(p);u?u.push(...n):m(n),t.$$.on_mount=[]}),c.forEach(O)}(t,n.target,n.anchor),R()),L(c)}class q{$destroy(){var t,n;n=1,(t=this).$$.fragment&&(m(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={}),this.$destroy=f}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}const{Object:z}=Z;function J(t,n,e){const r=z.create(t);return r.key=n[e],r}function P(t,n,e){const r=z.create(t);return r.item=n[e],r}function Y(t,n,e){const r=z.create(t);return r.key=n[e],r}function G(t){var n,e,r,o,u,c,a;let l=t.columns,s=[];for(let n=0;n<l.length;n+=1)s[n]=V(Y(t,l,n));let i=t.results.slice(0,et),f=[];for(let n=0;n<i.length;n+=1)f[n]=X(P(t,i,n));var d=t.count>et&&tt();return{c(){n=T("table"),e=T("thead"),r=T("tr");for(let t=0;t<s.length;t+=1)s[t].c();o=_(),u=T("tbody");for(let t=0;t<f.length;t+=1)f[t].c();c=_(),d&&d.c(),a=w()},m(t,l){v(t,n,l),$(n,e),$(e,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null);$(n,o),$(n,u);for(let t=0;t<f.length;t+=1)f[t].m(u,null);v(t,c,l),d&&d.m(t,l),v(t,a,l)},p(t,n){if(t.columns){let e;for(l=n.columns,e=0;e<l.length;e+=1){const o=Y(n,l,e);s[e]?s[e].p(t,o):(s[e]=V(o),s[e].c(),s[e].m(r,null))}for(;e<s.length;e+=1)s[e].d(1);s.length=l.length}if(t.columns||t.results||t.SEARCH_RESULT_LIMIT){let e;for(i=n.results.slice(0,et),e=0;e<i.length;e+=1){const r=P(n,i,e);f[e]?f[e].p(t,r):(f[e]=X(r),f[e].c(),f[e].m(u,null))}for(;e<f.length;e+=1)f[e].d(1);f.length=i.length}n.count>et?d||((d=tt()).c(),d.m(a.parentNode,a)):d&&(d.d(1),d=null)},d(t){t&&y(n),C(s,t),C(f,t),t&&y(c),d&&d.d(t),t&&y(a)}}}function K(t){var n;return{c(){(n=T("p")).textContent="No results found"},m(t,e){v(t,n,e)},p:f,d(t){t&&y(n)}}}function Q(t){var n;return{c(){n=b("Loading...")},m(t,e){v(t,n,e)},p:f,d(t){t&&y(n)}}}function V(t){var n,e,r=t.key+"";return{c(){n=T("th"),e=b(r)},m(t,r){v(t,n,r),$(n,e)},p(t,n){t.columns&&r!==(r=n.key+"")&&A(e,r)},d(t){t&&y(n)}}}function W(t){var n,e=t.item[t.key]+"";return{c(){n=T("td")},m(t,r){v(t,n,r),n.innerHTML=e},p(t,r){(t.results||t.columns)&&e!==(e=r.item[r.key]+"")&&(n.innerHTML=e)},d(t){t&&y(n)}}}function X(t){var n,e;let r=t.columns,o=[];for(let n=0;n<r.length;n+=1)o[n]=W(J(t,r,n));return{c(){n=T("tr");for(let t=0;t<o.length;t+=1)o[t].c();e=_()},m(t,r){v(t,n,r);for(let t=0;t<o.length;t+=1)o[t].m(n,null);$(n,e)},p(t,u){if(t.results||t.SEARCH_RESULT_LIMIT||t.columns){let c;for(r=u.columns,c=0;c<r.length;c+=1){const a=J(u,r,c);o[c]?o[c].p(t,a):(o[c]=W(a),o[c].c(),o[c].m(n,e))}for(;c<o.length;c+=1)o[c].d(1);o.length=r.length}},d(t){t&&y(n),C(o,t)}}}function tt(t){var n;return{c(){(n=T("p")).textContent="I'm afraid I can't show that much results, or your browser will be slowed down"},m(t,e){v(t,n,e)},d(t){t&&y(n)}}}function nt(t){var n,e,r,o,u,c,a,l,s,i,d;function h(t,n){return n.dataset.dummy?Q:0===n.count?K:G}var m=h(0,t),p=m(t);return{c(){var f,h,m,g;(n=T("h1")).textContent="Simple anime search app",e=_(),r=T("div"),o=T("input"),u=_(),c=T("span"),a=b("Total results: "),l=b(t.count),s=_(),p.c(),i=w(),x(n,"class","svelte-1ucbz36"),x(o,"type","text"),x(r,"class","search"),f=o,h="input",m=t.input_input_handler,f.addEventListener(h,m,g),d=(()=>f.removeEventListener(h,m,g))},m(f,d){v(f,n,d),v(f,e,d),v(f,r,d),$(r,o),j(o,t.searchTerm),$(r,u),$(r,c),$(c,a),$(c,l),v(f,s,d),p.m(f,d),v(f,i,d)},p(t,n){t.searchTerm&&o.value!==n.searchTerm&&j(o,n.searchTerm),t.count&&A(l,n.count),m===(m=h(0,n))&&p?p.p(t,n):(p.d(1),(p=m(n))&&(p.c(),p.m(i.parentNode,i)))},i:f,o:f,d(t){t&&(y(n),y(e),y(r),y(s)),p.d(t),t&&y(i),d()}}}const et=100;function rt(t,n,e){let r,o,u,{dataset:c=Object.assign([],{dummy:!0,columns:[]})}=n,a="";return t.$set=(t=>{"dataset"in t&&e("dataset",c=t.dataset)}),t.$$.update=((t={dataset:1,searchTerm:1,results:1})=>{t.dataset&&e("columns",r=c.columns),(t.dataset||t.searchTerm)&&e("results",o=c.filter(t=>-1!==String(t.name).toLowerCase().indexOf(a.toLowerCase()))),t.results&&e("count",u=o.length)}),{dataset:c,searchTerm:a,columns:r,results:o,count:u,input_input_handler:function(){a=this.value,e("searchTerm",a)}}}const ot=new class extends q{constructor(t){super(),F(this,t,rt,nt,g,["dataset"])}}({target:document.body});return fetch("anime.csv").then(t=>t.text()).then(t=>ot.$set({dataset:i(t)})),ot}();
//# sourceMappingURL=bundle.js.map
